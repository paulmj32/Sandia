geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed)) +
geom_sf(data = county_map_area, color = "black", fill = "NA") +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
rast_df = as.data.frame(csd3, xy= TRUE)
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed)) +
geom_sf(data = county_map_area, color = "black", fill = "NA") +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
View(county_map_area)
county_map_Harris = county_map_area %>%
mutate(Harris = case_when(GEOID == "48201" ~ 1,
GEOID != "48201" ~ 0))
View(county_map_Harris)
# county_map_Harris = county_map_area %>%
#   mutate(Harris = case_when(GEOID == "48201" ~ 1,
#                             GEOID != "48201" ~ 0))
county_map_Harris = county_map_area %>%
dplyr::filter(GEOID == "48201")
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed)) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.8) +
#geom_sf(data = county_map_area, color = "black", fill = "NA") +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
rast_df = as.data.frame(csd3, xy= TRUE)
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed)) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.5) +
#geom_sf(data = county_map_area, color = "black", fill = "NA") +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
gg3 = ggplot() +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.5) +
#geom_sf(data = county_map_area, color = "black", fill = "NA") +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed)) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
gg3 = ggplot() +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.5) +
#geom_sf(data = county_map_area, color = "black", fill = "NA") +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.8) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
rast_df = as.data.frame(csd3, xy= TRUE)
gg3 = ggplot() +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.5) +
#geom_sf(data = county_map_area, color = "black", fill = "NA") +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.6) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3 = ggplot() +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.5) +
#geom_sf(data = county_map_area, color = "black", fill = "NA") +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.6) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.5) +
#geom_sf(data = county_map_area, color = "black", fill = "NA") +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
#geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.5) +
geom_sf(data = county_map_area, color = "black", fill = "NA") +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
#geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.5) +
geom_sf(data = county_map_Harris, color = "black", fill = "NA") +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
#geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.5) +
geom_sf(data = county_map_Harris, color = "black", fill = "Skyblue") +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.5) +
geom_sf(data = county_map_Harris, color = "black", fill = "Skyblue", lwd = 0.75) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.4) +
geom_sf(data = county_map_Harris, color = "black", fill = "Skyblue", lwd = 0.4) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
csd = raster::raster(hurricane.frcst.files[100], varname = "wspd")
csd2 = raster::projectRaster(csd, crs = crs(county_map_area))
csd3 = terra::rast(csd2) #convert to Spat Raster for easier masking and extraction
csd4 = terra::crop(csd3, vect(county_map_area)) #crop to map
csd5 = terra::mask(csd4, vect(county_map_area)) #mask to map (make anything outside NA)
csd6 = terra::extract(x = csd5, y = vect(county_map_area)) # extract values
csd_group = csd6 %>% # group extracted data
group_by(ID) %>%
summarize(WIND_mean = mean(X10.meter.Windspeed, na.rm = TRUE))
county_map_wind = county_map_area %>% #join rz values
bind_cols(csd_group)
county_map_Harris = county_map_area %>%
dplyr::filter(GEOID == "48201")
rast_df = as.data.frame(csd3, xy= TRUE)
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.4) +
geom_sf(data = county_map_Harris, color = "black", fill = "Skyblue", lwd = 0.4) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
csd3
csd
csd@title
csd@file
csd@legend
csd@history
csd2@data
csd2@data
csd2@title
csd2@file
hurricane.frcst.files[100]
?string4
?stringr
i = 100
title = substr(hurricane.frcst.files[i], 10, length(hurricane.frcst.files[i]))
hurricane.frcst.files[i]
length(hurricane.frcst.files[i]
length(hurricane.frcst.files[i])
title = substr(hurricane.frcst.files[i], 10, 100))
title = substr(hurricane.frcst.files[i], 10, 100)
title = substr(hurricane.frcst.files[i], 15, 100)
title = substr(hurricane.frcst.files[i], 20, 100)
title = substr(hurricane.frcst.files[i], 25, 100)
title = substr(hurricane.frcst.files[i], 26, 100)
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.4) +
geom_sf(data = county_map_Harris, color = "black", fill = "Skyblue", lwd = 0.4) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
ggtitle(paste(title)) +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.4) +
geom_sf(data = county_map_Harris, color = "black", fill = "Skyblue", lwd = 0.4) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
ggtitle(paste(title)) +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
plot.title = element_text(hjust = 0.5)
)
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.4) +
geom_sf(data = county_map_Harris, color = "black", fill = "Skyblue", lwd = 0.4) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
ggtitle(paste(title)) +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
plot.title = element_text(hjust = 0.5)
)
gg3
i = 110
csd = raster::raster(hurricane.frcst.files[i], varname = "wspd")
csd2 = raster::projectRaster(csd, crs = crs(county_map_area))
csd3 = terra::rast(csd2) #convert to Spat Raster for easier masking and extraction
csd4 = terra::crop(csd3, vect(county_map_area)) #crop to map
csd5 = terra::mask(csd4, vect(county_map_area)) #mask to map (make anything outside NA)
csd6 = terra::extract(x = csd5, y = vect(county_map_area)) # extract values
csd_group = csd6 %>% # group extracted data
group_by(ID) %>%
summarize(WIND_mean = mean(X10.meter.Windspeed, na.rm = TRUE))
county_map_wind = county_map_area %>% #join rz values
bind_cols(csd_group)
county_map_Harris = county_map_area %>%
dplyr::filter(GEOID == "48201")
rast_df = as.data.frame(csd3, xy= TRUE)
title = substr(hurricane.frcst.files[i], 26, 100)
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.4) +
geom_sf(data = county_map_Harris, color = "black", fill = "Skyblue", lwd = 0.4) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
ggtitle(paste(title)) +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
i = 50
csd = raster::raster(hurricane.frcst.files[i], varname = "wspd")
csd2 = raster::projectRaster(csd, crs = crs(county_map_area))
csd3 = terra::rast(csd2) #convert to Spat Raster for easier masking and extraction
csd4 = terra::crop(csd3, vect(county_map_area)) #crop to map
csd5 = terra::mask(csd4, vect(county_map_area)) #mask to map (make anything outside NA)
csd6 = terra::extract(x = csd5, y = vect(county_map_area)) # extract values
csd_group = csd6 %>% # group extracted data
group_by(ID) %>%
summarize(WIND_mean = mean(X10.meter.Windspeed, na.rm = TRUE))
county_map_wind = county_map_area %>% #join rz values
bind_cols(csd_group)
county_map_Harris = county_map_area %>%
dplyr::filter(GEOID == "48201")
rast_df = as.data.frame(csd3, xy= TRUE)
title = substr(hurricane.frcst.files[i], 26, 100)
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.4) +
geom_sf(data = county_map_Harris, color = "black", fill = "Skyblue", lwd = 0.4) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
ggtitle(paste(title)) +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.4) +
geom_sf(data = county_map_Harris, color = "black", fill = "Skyblue", lwd = 0.4) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
ggtitle(paste(title)) +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
i = 50
csd = raster::raster(hurricane.frcst.files[i], varname = "wspd")
csd2 = raster::projectRaster(csd, crs = crs(county_map_area))
csd3 = terra::rast(csd2) #convert to Spat Raster for easier masking and extraction
csd4 = terra::crop(csd3, vect(county_map_area)) #crop to map
csd5 = terra::mask(csd4, vect(county_map_area)) #mask to map (make anything outside NA)
csd6 = terra::extract(x = csd5, y = vect(county_map_area)) # extract values
csd_group = csd6 %>% # group extracted data
group_by(ID) %>%
summarize(WIND_mean = mean(X10.meter.Windspeed, na.rm = TRUE))
county_map_wind = county_map_area %>% #join rz values
bind_cols(csd_group)
county_map_Harris = county_map_area %>%
dplyr::filter(GEOID == "48201")
rast_df = as.data.frame(csd3, xy= TRUE)
title = substr(hurricane.frcst.files[i], 26, 100)
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.4) +
geom_sf(data = county_map_Harris, color = "black", fill = "Skyblue", lwd = 0.4) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
ggtitle(paste(title)) +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
i = 10
csd = raster::raster(hurricane.frcst.files[i], varname = "wspd")
csd2 = raster::projectRaster(csd, crs = crs(county_map_area))
csd3 = terra::rast(csd2) #convert to Spat Raster for easier masking and extraction
csd4 = terra::crop(csd3, vect(county_map_area)) #crop to map
csd5 = terra::mask(csd4, vect(county_map_area)) #mask to map (make anything outside NA)
csd6 = terra::extract(x = csd5, y = vect(county_map_area)) # extract values
csd_group = csd6 %>% # group extracted data
group_by(ID) %>%
summarize(WIND_mean = mean(X10.meter.Windspeed, na.rm = TRUE))
county_map_wind = county_map_area %>% #join rz values
bind_cols(csd_group)
county_map_Harris = county_map_area %>%
dplyr::filter(GEOID == "48201")
rast_df = as.data.frame(csd3, xy= TRUE)
title = substr(hurricane.frcst.files[i], 26, 100)
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.4) +
geom_sf(data = county_map_Harris, color = "black", fill = "Skyblue", lwd = 0.4) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
ggtitle(paste(title)) +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
i = 20
csd = raster::raster(hurricane.frcst.files[i], varname = "wspd")
csd2 = raster::projectRaster(csd, crs = crs(county_map_area))
csd3 = terra::rast(csd2) #convert to Spat Raster for easier masking and extraction
csd4 = terra::crop(csd3, vect(county_map_area)) #crop to map
csd5 = terra::mask(csd4, vect(county_map_area)) #mask to map (make anything outside NA)
csd6 = terra::extract(x = csd5, y = vect(county_map_area)) # extract values
csd_group = csd6 %>% # group extracted data
group_by(ID) %>%
summarize(WIND_mean = mean(X10.meter.Windspeed, na.rm = TRUE))
county_map_wind = county_map_area %>% #join rz values
bind_cols(csd_group)
county_map_Harris = county_map_area %>%
dplyr::filter(GEOID == "48201")
rast_df = as.data.frame(csd3, xy= TRUE)
title = substr(hurricane.frcst.files[i], 26, 100)
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.4) +
geom_sf(data = county_map_Harris, color = "black", fill = "Skyblue", lwd = 0.4) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
ggtitle(paste(title)) +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
i = 30
csd = raster::raster(hurricane.frcst.files[i], varname = "wspd")
csd2 = raster::projectRaster(csd, crs = crs(county_map_area))
csd3 = terra::rast(csd2) #convert to Spat Raster for easier masking and extraction
csd4 = terra::crop(csd3, vect(county_map_area)) #crop to map
csd5 = terra::mask(csd4, vect(county_map_area)) #mask to map (make anything outside NA)
csd6 = terra::extract(x = csd5, y = vect(county_map_area)) # extract values
csd_group = csd6 %>% # group extracted data
group_by(ID) %>%
summarize(WIND_mean = mean(X10.meter.Windspeed, na.rm = TRUE))
county_map_wind = county_map_area %>% #join rz values
bind_cols(csd_group)
county_map_Harris = county_map_area %>%
dplyr::filter(GEOID == "48201")
rast_df = as.data.frame(csd3, xy= TRUE)
title = substr(hurricane.frcst.files[i], 26, 100)
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.4) +
geom_sf(data = county_map_Harris, color = "black", fill = "Skyblue", lwd = 0.4) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
ggtitle(paste(title)) +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
i = 40
csd = raster::raster(hurricane.frcst.files[i], varname = "wspd")
csd2 = raster::projectRaster(csd, crs = crs(county_map_area))
csd3 = terra::rast(csd2) #convert to Spat Raster for easier masking and extraction
csd4 = terra::crop(csd3, vect(county_map_area)) #crop to map
csd5 = terra::mask(csd4, vect(county_map_area)) #mask to map (make anything outside NA)
csd6 = terra::extract(x = csd5, y = vect(county_map_area)) # extract values
csd_group = csd6 %>% # group extracted data
group_by(ID) %>%
summarize(WIND_mean = mean(X10.meter.Windspeed, na.rm = TRUE))
county_map_wind = county_map_area %>% #join rz values
bind_cols(csd_group)
county_map_Harris = county_map_area %>%
dplyr::filter(GEOID == "48201")
rast_df = as.data.frame(csd3, xy= TRUE)
title = substr(hurricane.frcst.files[i], 26, 100)
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.4) +
geom_sf(data = county_map_Harris, color = "black", fill = "Skyblue", lwd = 0.4) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
ggtitle(paste(title)) +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
i = 50
csd = raster::raster(hurricane.frcst.files[i], varname = "wspd")
csd2 = raster::projectRaster(csd, crs = crs(county_map_area))
csd3 = terra::rast(csd2) #convert to Spat Raster for easier masking and extraction
csd4 = terra::crop(csd3, vect(county_map_area)) #crop to map
csd5 = terra::mask(csd4, vect(county_map_area)) #mask to map (make anything outside NA)
csd6 = terra::extract(x = csd5, y = vect(county_map_area)) # extract values
csd_group = csd6 %>% # group extracted data
group_by(ID) %>%
summarize(WIND_mean = mean(X10.meter.Windspeed, na.rm = TRUE))
county_map_wind = county_map_area %>% #join rz values
bind_cols(csd_group)
county_map_Harris = county_map_area %>%
dplyr::filter(GEOID == "48201")
rast_df = as.data.frame(csd3, xy= TRUE)
title = substr(hurricane.frcst.files[i], 26, 100)
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.4) +
geom_sf(data = county_map_Harris, color = "black", fill = "Skyblue", lwd = 0.4) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
ggtitle(paste(title)) +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
i = 60
csd = raster::raster(hurricane.frcst.files[i], varname = "wspd")
csd2 = raster::projectRaster(csd, crs = crs(county_map_area))
csd3 = terra::rast(csd2) #convert to Spat Raster for easier masking and extraction
csd4 = terra::crop(csd3, vect(county_map_area)) #crop to map
csd5 = terra::mask(csd4, vect(county_map_area)) #mask to map (make anything outside NA)
csd6 = terra::extract(x = csd5, y = vect(county_map_area)) # extract values
csd_group = csd6 %>% # group extracted data
group_by(ID) %>%
summarize(WIND_mean = mean(X10.meter.Windspeed, na.rm = TRUE))
county_map_wind = county_map_area %>% #join rz values
bind_cols(csd_group)
county_map_Harris = county_map_area %>%
dplyr::filter(GEOID == "48201")
rast_df = as.data.frame(csd3, xy= TRUE)
title = substr(hurricane.frcst.files[i], 26, 100)
gg3 = ggplot() +
geom_tile(data = rast_df, aes(x = x, y = y, fill = X10.meter.Windspeed), alpha = 0.9) +
geom_sf(data = county_map_area, color = "black", fill = "NA", lwd = 0.4) +
geom_sf(data = county_map_Harris, color = "black", fill = "Skyblue", lwd = 0.4) +
scale_fill_viridis_c(option="plasma", na.value = "grey10") +
theme_dark() +
ggtitle(paste(title)) +
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_blank()
)
gg3
